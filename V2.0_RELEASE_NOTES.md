# Accelerapp v2.0 Release Notes

**Release Date:** 2025-10-14  
**Version:** 2.0.0

## üéâ Major Release: Enhanced Hardware Support

Accelerapp v2.0 represents a major expansion of hardware support capabilities, introducing comprehensive platform support for STM32 and Nordic nRF microcontrollers, FreeRTOS integration, and advanced peripheral management.

---

## üöÄ What's New

### 1. STM32 Enhanced Platform Support

**New Platforms:**
- **STM32F4 Series** - ARM Cortex-M4 with FPU and DSP
  - Up to 180 MHz clock speed
  - Hardware floating-point unit
  - DSP instructions
  - Common variants: F401, F407, F411, F429, F446

- **STM32H7 Series** - ARM Cortex-M7 high-performance
  - Up to 480 MHz clock speed
  - Double-precision FPU
  - L1 instruction and data cache
  - Hardware JPEG codec and graphics accelerator

**Features:**
- ‚úÖ Complete HAL driver code generation
- ‚úÖ STM32CubeMX project file generation (.ioc, .project, .cproject)
- ‚úÖ Platform-optimized peripheral drivers (GPIO, UART, I2C, SPI, ADC, Timer)
- ‚úÖ DMA-based peripheral support
- ‚úÖ Build configuration for STM32CubeIDE and PlatformIO

### 2. Nordic nRF Platform Support

**New Platforms:**
- **nRF52 Series** - ARM Cortex-M4F with BLE
  - Bluetooth 5.3 Low Energy
  - NFC-A tag support (nRF52840)
  - USB 2.0 device (nRF52840)
  - Ultra-low power consumption

- **nRF53 Series** - Dual-core ARM Cortex-M33
  - Application core (128 MHz) + Network core (64 MHz)
  - Bluetooth 5.3 with LE Audio
  - ARM TrustZone security
  - Concurrent BLE + 802.15.4 operation

**Features:**
- ‚úÖ BLE stack service and advertising generation
- ‚úÖ Zephyr RTOS integration (prj.conf, CMakeLists.txt, devicetree)
- ‚úÖ Nordic SDK configuration
- ‚úÖ Power management optimization
- ‚úÖ Segger Embedded Studio support

### 3. FreeRTOS Integration

**Task Management:**
- ‚úÖ Automatic task function generation
- ‚úÖ Task priority optimization
- ‚úÖ Stack size calculation
- ‚úÖ Periodic and event-driven task templates
- ‚úÖ Task timing analysis and CPU utilization calculation

**Configuration Generation:**
- ‚úÖ Platform-optimized FreeRTOSConfig.h
- ‚úÖ STM32, nRF52, ESP32 specific settings
- ‚úÖ Configurable heap, stack, and priority settings
- ‚úÖ Hook function support

**IPC Primitives:**
- ‚úÖ Queue generation for inter-task communication
- ‚úÖ Binary and counting semaphores
- ‚úÖ Regular and recursive mutexes
- ‚úÖ Event groups for synchronization

### 4. Advanced Peripheral Management

**Conflict Resolution:**
- ‚úÖ Intelligent pin conflict detection
- ‚úÖ Compatible function identification
- ‚úÖ Platform-specific alternative pin suggestions
- ‚úÖ Comprehensive conflict reporting

**Resource Optimization:**
- ‚úÖ DMA channel allocation and optimization
- ‚úÖ Timer resource management
- ‚úÖ Peripheral instance tracking
- ‚úÖ Resource utilization analysis
- ‚úÖ CPU savings estimation

---

## üìä Statistics

### Code Metrics
- **New Modules:** 14 files
- **Total New Code:** ~124 KB
- **Test Coverage:** 82 tests (49 new tests)
- **Test Pass Rate:** 100%

### Platform Coverage
| Category | v1.0 | v2.0 | Increase |
|----------|------|------|----------|
| Platforms | 6 | 10 | +67% |
| RTOS Support | 0 | 3 | New |
| Peripheral Types | 10 | 50+ | +400% |
| Code Generators | 2 | 8 | +300% |

---

## üì¶ Installation

### From PyPI (when published)
```bash
pip install accelerapp==2.0.0
```

### From Source
```bash
git clone https://github.com/thewriterben/Accelerapp.git
cd Accelerapp
git checkout v2.0.0
pip install -e .
```

---

## üéØ Quick Start

### STM32F4 Project with FreeRTOS

```python
from accelerapp.platforms import get_platform
from accelerapp.rtos.freertos import FreeRTOSTaskGenerator
from pathlib import Path

# Get platform
platform = get_platform("stm32f4")

# Define hardware
spec = {
    "device_name": "IoTSensor",
    "peripherals": [
        {"type": "led", "pin": 13},
        {"type": "sensor", "pin": 2}
    ],
    "rtos": "freertos"
}

# Generate code
result = platform.generate_code(spec, Path("./output"))
print(f"Generated {len(result['files_generated'])} files")
```

### nRF52 BLE Device with Zephyr

```python
from accelerapp.platforms import get_platform
from accelerapp.platforms.nordic.ble_stack import BLEStack

# Get platform
platform = get_platform("nrf52")

# Generate BLE service
ble = BLEStack("s140")
service = ble.generate_service({
    "name": "heart_rate",
    "uuid": "0x180D",
    "characteristics": [
        {"name": "hr_measurement", "uuid": "0x2A37"}
    ]
})

# Generate project
spec = {
    "device_name": "BLEDevice",
    "peripherals": [{"type": "ble_peripheral"}]
}
result = platform.generate_code(spec, Path("./output"))
```

---

## üîß API Changes

### New Modules

```python
# Enhanced STM32 platforms
from accelerapp.platforms.stm32 import STM32F4Platform, STM32H7Platform
from accelerapp.platforms.stm32.hal_generator import STM32HALGenerator
from accelerapp.platforms.stm32.cubemx_integration import CubeMXIntegration

# Nordic nRF platforms
from accelerapp.platforms.nordic import NRF52Platform, NRF53Platform
from accelerapp.platforms.nordic.ble_stack import BLEStack
from accelerapp.platforms.nordic.zephyr_integration import ZephyrIntegration

# FreeRTOS support
from accelerapp.rtos.freertos import (
    FreeRTOSTaskGenerator,
    FreeRTOSConfigGenerator,
    IPCPrimitives
)

# Advanced peripheral management
from accelerapp.peripherals import (
    PeripheralConflictResolver,
    PeripheralResourceManager
)
```

### Backward Compatibility

All v1.0 APIs remain functional:

```python
# v1.0 code still works
from accelerapp.platforms import get_platform

platform = get_platform("stm32")  # Returns STM32F4Platform
platform = get_platform("arduino")  # Still supported
```

---

## üß™ Testing

Run the test suite:

```bash
# All tests
pytest

# Enhanced platform tests only
pytest tests/test_enhanced_platforms.py

# RTOS tests
pytest tests/test_rtos.py

# Peripheral tests
pytest tests/test_peripherals_advanced.py
```

Run the demo:

```bash
python examples/enhanced_hardware_demo.py
```

---

## üìö Documentation

- **[Enhanced Hardware Support Guide](ENHANCED_HARDWARE_SUPPORT.md)** - Comprehensive guide to new features
- **[API Reference](docs/api/)** - Complete API documentation
- **[Examples](examples/)** - Working examples for all platforms
- **[Migration Guide](ENHANCED_HARDWARE_SUPPORT.md#migration-guide)** - Upgrading from v1.0

---

## üêõ Known Issues

None at release time. Please report issues at:
https://github.com/thewriterben/Accelerapp/issues

---

## üîÆ Roadmap for v2.1

- [ ] Additional embedded platforms (Microchip PIC32, TI MSP430, RISC-V)
- [ ] ThreadX and RT-Thread RTOS support
- [ ] Enhanced IDE integration (IAR EWARM, Keil MDK)
- [ ] Advanced motor control peripherals (BLDC, stepper)
- [ ] Sensor fusion capabilities
- [ ] Hardware-in-the-loop (HIL) testing support

---

## üë• Contributors

- **Ben** (@thewriterben) - Lead Developer
- Community contributors - Thank you!

---

## üìÑ License

MIT License - See [LICENSE](LICENSE) file for details.

---

## üôè Acknowledgments

- STMicroelectronics for STM32 HAL libraries
- Nordic Semiconductor for nRF SDK and documentation
- FreeRTOS community
- Zephyr Project
- All contributors and users

---

## üìû Support

- **GitHub Issues:** https://github.com/thewriterben/Accelerapp/issues
- **Documentation:** https://github.com/thewriterben/Accelerapp/tree/main/docs
- **Examples:** https://github.com/thewriterben/Accelerapp/tree/main/examples

---

**Accelerapp v2.0** - Empowering embedded developers with comprehensive, production-ready code generation across multiple hardware platforms. üöÄ
